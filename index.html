<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <meta http-equiv="Cache-Control" content="no-cache, no-store, must-revalidate" />
  <meta http-equiv="Pragma" content="no-cache" />
  <meta http-equiv="Expires" content="0" />
  <!-- v2.0 - Sort feature enabled -->
  <title>Vibeify - Your Cloud Music Library</title>
  <link rel="icon" href="data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 100 100'><text y='0.9em' font-size='90'>‚ô´</text></svg>" />
  
  <!-- Firebase SDK -->
  <script src="https://www.gstatic.com/firebasejs/10.7.1/firebase-app-compat.js"></script>
  <script src="https://www.gstatic.com/firebasejs/10.7.1/firebase-firestore-compat.js"></script>
  <script src="https://www.gstatic.com/firebasejs/10.7.1/firebase-storage-compat.js"></script>
  
  <!-- External CSS -->
  <link rel="stylesheet" href="css/styles.css">
</head>
<body>
  <div class="loading" id="loading">
    <div class="loading-title">üì§ Uploading...</div>
    <div id="loadingText">Preparing files...</div>
    <div class="loading-progress">
      <div class="loading-progress-bar" id="progressBar"></div>
    </div>
  </div>
  
  <!-- Custom Confirmation Modal -->
  <div class="confirm-overlay" id="confirmOverlay">
    <div class="confirm-modal">
      <div class="confirm-title" id="confirmTitle">Confirm Action</div>
      <div class="confirm-message" id="confirmMessage">Are you sure?</div>
      <div class="confirm-buttons">
        <button class="confirm-btn confirm-btn-cancel" id="confirmCancel">Cancel</button>
        <button class="confirm-btn confirm-btn-ok" id="confirmOk">OK</button>
      </div>
    </div>
  </div>
  
  <!-- Storage Info Modal -->
  <div class="confirm-overlay" id="storageOverlay">
    <div class="storage-modal">
      <div class="storage-header">
        <span class="storage-icon">‚òÅÔ∏è</span>
        <div class="storage-header-text">
          <h3>Cloud Storage Status</h3>
        </div>
      </div>
      
      <div class="storage-stats">
        <div class="stat-row">
          <span class="stat-label">Total Tracks</span>
          <span class="stat-value" id="storageTotalTracks">0</span>
        </div>
        <div class="stat-row">
          <span class="stat-label">Total Size</span>
          <span class="stat-value" id="storageTotalSize">0 MB</span>
        </div>
        <div class="stat-row">
          <span class="stat-label">Playlists</span>
          <span class="stat-value" id="storageTotalLibs">0</span>
        </div>
      </div>
      
      <button class="storage-close-btn" onclick="hideStorageModal()">Close</button>
    </div>
  </div>
  
  <!-- Toast Notification -->
  <div class="toast" id="toast">
    <span class="toast-icon" id="toastIcon">‚úÖ</span>
    <span id="toastMessage">Success!</span>
  </div>
  
  <div class="app">
    <div class="main-container">
      <!-- Sidebar -->
      <aside class="sidebar">
        <div class="logo">
          <div class="logo-icon"></div>
          <span>Vibeify</span>
        </div>
        
        <div class="nav-item active" onclick="showAllSongs()">
          <span class="nav-icon">
            <svg viewBox="0 0 24 24"><path d="M9.5 16.5v-9l7 4.5z"/><path d="M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8z"/></svg>
          </span>
          <span>Home</span>
        </div>
        
        <div class="divider"></div>
        
        <div class="library-header">
          <span>Your Playlists</span>
          <button class="btn-new" onclick="showNewLibraryModal()">+ New</button>
        </div>
        
        <div class="libraries" id="libraryList"></div>
      </aside>
      
      <!-- Main content -->
      <main class="main">
        <div class="header">
          <div class="greeting">
            <div class="greeting-text" id="greetingText">Welcome back ‚Äî enjoy the music</div>
            <div class="greeting-time" id="greetingTime"></div>
          </div>
          <div class="controls">
            <input type="file" id="fileInput" multiple accept="audio/*,.mp3,.wav,.m4a,.ogg,.flac" class="hidden">
            <button class="btn btn-secondary" onclick="showStorageInfo()" title="Check cloud storage">
              <svg width="16" height="16" viewBox="0 0 24 24" fill="currentColor" style="display:inline;margin-right:6px;vertical-align:middle"><path d="M19.35 10.04C18.67 6.59 15.64 4 12 4 9.11 4 6.6 5.64 5.35 8.04 2.34 8.36 0 10.91 0 14c0 3.31 2.69 6 6 6h13c2.76 0 5-2.24 5-5 0-2.64-2.05-4.78-4.65-4.96z"/></svg>
              Cloud Storage
            </button>
            <button class="btn btn-primary" id="uploadBtn" onclick="document.getElementById('fileInput').click()">
              <svg width="16" height="16" viewBox="0 0 24 24" fill="currentColor" style="display:inline;margin-right:6px;vertical-align:middle"><path d="M9 16h6v-6h4l-7-7-7 7h4zm-4 2h14v2H5z"/></svg>
              Upload Music
            </button>
          </div>
        </div>
        
        <div class="content-area">
          <div class="drop-zone" id="dropZone">
            <div class="drop-icon">‚ô´</div>
            <div class="drop-title">Drag & drop your music here</div>
            <div class="drop-subtitle">
              <span class="badge">Cloud Storage</span>
              <span>Shared with all users ‚Ä¢ Real-time sync</span>
            </div>
          </div>
          
          <div class="section-header">
            <div class="section-title" id="libraryName">All Songs</div>
            <div class="section-controls">
              <select class="search-box" id="sortSelect">
                <option value="recent">Recently Added</option>
                <option value="az">A to Z</option>
                <option value="za">Z to A</option>
              </select>
              <input type="text" class="search-box" placeholder="Search songs..." id="searchBox">
            </div>
          </div>
          
          <div class="tracks" id="trackList"></div>
          
          <div class="empty" id="emptyState">
            <div class="empty-icon">‚ô™</div>
            <div class="empty-title">No music yet</div>
            <div class="empty-subtitle">Upload some tracks to get started!</div>
          </div>
        </div>
      </main>
    </div>
    
    <!-- Player -->
    <div class="player">
      <div class="player-info">
        <div class="player-cover" id="playerCover">‚ô´</div>
        <div class="player-text">
          <div class="player-title" id="nowPlaying">Not playing</div>
          <div class="player-artist" id="nowArtist">‚Äî</div>
        </div>
      </div>
      
      <div class="player-controls">
        <div class="player-buttons">
          <button class="player-btn" id="shuffleBtn" onclick="toggleShuffle()" title="Shuffle">
            <svg viewBox="0 0 24 24" width="20" height="20" fill="currentColor"><path d="M10.59 9.17L5.41 4 4 5.41l5.17 5.17 1.42-1.41zM14.5 4l2.04 2.04L4 18.59 5.41 20 17.96 7.46 20 9.5V4h-5.5zm.33 9.41l-1.41 1.41 3.13 3.13L14.5 20H20v-5.5l-2.04 2.04-3.13-3.13z"/></svg>
          </button>
          <button class="player-btn" onclick="previousTrack()" title="Previous">
            <svg viewBox="0 0 24 24" width="20" height="20" fill="currentColor"><path d="M6 6h2v12H6zm3.5 6l8.5 6V6z"/></svg>
          </button>
          <button class="player-btn play" id="playBtn" onclick="togglePlay()" title="Play">
            <svg viewBox="0 0 24 24" width="18" height="18" fill="currentColor" id="playIcon"><path d="M8 5v14l11-7z"/></svg>
            <svg viewBox="0 0 24 24" width="18" height="18" fill="currentColor" id="pauseIcon" style="display:none"><path d="M6 4h4v16H6V4zm8 0h4v16h-4V4z"/></svg>
          </button>
          <button class="player-btn" onclick="nextTrack()" title="Next">
            <svg viewBox="0 0 24 24" width="20" height="20" fill="currentColor"><path d="M6 18l8.5-6L6 6v12zM16 6v12h2V6h-2z"/></svg>
          </button>
        </div>
        <div class="progress-container">
          <span id="currentTime">0:00</span>
          <div class="progress-bar" id="progressBar2" onclick="seekTo(event)">
            <div class="progress-filled" id="progressFilled"></div>
          </div>
          <span id="duration">0:00</span>
        </div>
      </div>
      
      <div class="player-volume">
        <span onclick="toggleMute()" title="Volume" style="cursor:pointer" id="volumeIcon">
          <svg viewBox="0 0 24 24" width="18" height="18" fill="currentColor"><path d="M3 9v6h4l5 5V4L7 9H3zm13.5 3c0-1.77-1.02-3.29-2.5-4.03v8.05c1.48-.73 2.5-2.25 2.5-4.02zM14 3.23v2.06c2.89.86 5 3.54 5 6.71s-2.11 5.85-5 6.71v2.06c4.01-.91 7-4.49 7-8.77s-2.99-7.86-7-8.77z"/></svg>
        </span>
        <input type="range" class="volume-slider" min="0" max="100" value="70" id="volumeSlider">
      </div>
    </div>
    
    <!-- Credits -->
    <div class="credits">
      Made by yesh
    </div>
  </div>
  
  <!-- Audio element -->
  <audio id="audio"></audio>
  
  <!-- External JavaScript -->
  <script src="js/app.js"></script>
</body>
</html>

